Turbo Assembler	 Version 2.01	     01/04/24 15:34:05	    Page 1
main.ASM



      1				     ; First program
      2	0000			     Data SEGMENT ;Определяем	сегмент данных Greet - переменная    +
      3				     типа DB
      4	0000  48 65 6C 6C 6F 2C	20+	 Greet DB 'Hello, My friends!',	13, 10,	'$' ;Цифры	13 и 10 в строке	    +
      5	      4D 79 20 66 72 69	65+  объявления пере- менных являются управляющими	    +
      6	      6E 64 73 21 0D 0A	24   символами	и означают коды перево- да	строки и		    +
      7				     возврата каретки.
      8				     ;Замыкающий символьную	строку пере- определенный	    +
      9				     символ '§' (доллар) это переменная, которая является  +
     10				     счетчиком	текущего адреса после определения		    +
     11				     символьной строки.	Часто используется для		    +
     12				     вычисления длины символьной переменной.
     13	0015			     Data ENDS
     14
     15	0000			     Ourstack SEGMENT Stack ;Открываем	сегмент стека (как будто он   +
     16				     тут и не нужен,	работает без	него)
     17	0000  0100*(??)			 DB 100h DUP (?) ; 256 байт
     18	0100			     Ourstack ENDS
     19
     20				     ASSUME CS:Code, DS: Data, SS:Ourstack ;назначаем сегментные регистры
     21
     22	0000			     Code SEGMENT ;сегмент исходного кода
     23	0000  B8 0000s		     Start:  mov AX, Data ; загружаем в регистр AX сегмент данных
     24	0003  8E D8			     mov DS, AX	; в регистр DS регистр AX (AX - регистр		    +
     25				     аккумулятор)
     26	0005  B4 09			     mov AH, 09h ; Вывести строку Greet (в регистр	AH		    +
     27				     записываем, 09h - функция	вывода на экран)
     28	0007  BA 0000r			     mov DX, OFFSET Greet ;В регистр dx	записываем смещение	    +
     29				     адреса строки (длину можно не указывать, так как	    +
     30				     используем доллар)
     31	000A  CD 21			     int 21h ; команда прерывания
     32	000C  B0 00			     mov AL, 0 ;В регистр AL заносится	код завершения
     33	000E  B4 4C			     mov AH, 4Ch ; В регистр AH	записываем номер	функции	    +
     34				     завершения
     35	0010  CD 21			     int 21h ; прерывание
     36	0012			     Code ENDS
     37				     END Start
